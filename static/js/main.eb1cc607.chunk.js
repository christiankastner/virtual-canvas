(this["webpackJsonpvirtual-canvas"]=this["webpackJsonpvirtual-canvas"]||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},102:function(e,a,t){},103:function(e,a,t){},104:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){},110:function(e,a,t){},111:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),s=(t(91),t(15)),o=t(11),i=t(23),u=t(14),m=t(8),p=t(26),d=t(27),f=t(32),h=t(30),v=t(33),b=t(158),g="https://intense-harbor-90528.herokuapp.com",E={"Content-Type":"application/json",Accept:"application/json"},y={getUser:function(){return fetch("".concat(g,"/users/").concat(localStorage.id))},userLogin:function(e){return fetch("".concat(g,"/users/login"),{method:"POST",headers:E,body:JSON.stringify({user:e})})},userCreate:function(e){return fetch("".concat(g,"/users"),{method:"POST",headers:E,body:JSON.stringify({user:e})})}},O={bookmarkCanvas:function(e){return fetch("".concat(g,"/users/").concat(localStorage.id,"/bookmarks"),{method:"POST",headers:E,body:JSON.stringify({bookmark:{user_id:localStorage.id,picture_id:e}})})},fetchCanvas:function(e){return fetch("".concat(g,"/pictures/").concat(e))},fetchCanvases:function(){return fetch("".concat(g,"/pictures"))},newCanvas:function(e){return fetch("".concat(g,"/pictures"),{method:"POST",headers:E,body:JSON.stringify({picture:e})})},editCanvas:function(e,a){return fetch("".concat(g,"/pictures/").concat(e),{method:"PATCH",headers:E,body:JSON.stringify(a)})},deleteCanvas:function(e){return fetch("".concat(g,"/pictures/").concat(e),{method:"DELETE",headers:E})}},j={newAnimation:function(e,a){return fetch("".concat(g,"/").concat(e,"s"),{method:"POST",headers:E,body:JSON.stringify(Object(i.a)({},"".concat(e),{user_id:localStorage.id,picture_id:a}))})}},S={editP5:function(e,a){return fetch("".concat(g,"/p5_shapes/").concat(e),{method:"PATCH",headers:E,body:JSON.stringify(a)})},deleteP5:function(e){return fetch("".concat(g,"/p5_shapes/").concat(e),{method:"DELETE",headers:E})}},_=t(44),N=t.n(_),C=function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,null,[{key:"readFrequencyShapes",value:function(a,t,n,r){for(var c=0;c<a.length;c++)a[c].frequency===t&&e.readJsonShape(a[c],n,r)}},{key:"readJsonShape",value:function(e,a,t){t.push(),t.fill("rgb(".concat(e.fill,")")),t.stroke("rgb(".concat(e.stroke,")"));var n=e.width,r=e.height,c=e.amount,l=e.spin,s=e.orbit,o=e.shape,i=e.stagger_radius,u=e.stagger_place,m=a+i;switch(t.rotate(s*t.frameCount/10),o){case"rect":for(var p=0;p<c;p++)t.push(),t.rotate(360/c*p+u),t.push(),t.translate(m,m),t.rotate(l*t.frameCount/10),t.rectMode(t.CENTER),t.rect(0,0,n,r),t.pop(),t.pop();break;case"ellipse":for(var d=0;d<c;d++)t.push(),t.rotate(360/c*d+u),t.push(),t.translate(m,m),t.rotate(l*t.frameCount/10),t.ellipseMode(t.CENTER),t.ellipse(0,0,n,r),t.pop(),t.pop();break;case"triangle":for(var f=0;f<c;f++){t.push(),t.rotate(360/c*f+u),t.push();var h=2*r/3;t.translate(m,m),t.rotate(l*t.frameCount/10),t.triangle(0,-h,n,r,-n,r),t.pop(),t.pop()}break;case"line":for(var v=0;v<c;v++)t.push(),t.rotate(360/c*v+u),t.push(),t.translate(m,m),t.rotate(l*t.frameCount/10),t.line(0,0,n,r),t.pop(),t.pop()}t.pop()}}]),e}(),w=(t(96),function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(f.a)(this,Object(h.a)(a).call(this,e))).sketch=function(e){var a=t.props.canvas,n=a.background,r=a.mid_mapping_1,c=a.treble_mapping_1,l=a.bass_mapping_1,s=a.p5_shapes;e.setup=function(){e.angleMode(e.DEGREES),e.createCanvas(t.myRef.current.offsetWidth,150)},e.draw=function(){e.background("rgb(".concat(n,")")),e.translate(e.width/2,e.height/2),C.readFrequencyShapes(s,"treble",c,e),C.readFrequencyShapes(s,"mid",r,e),C.readFrequencyShapes(s,"bass",l,e),e.noLoop()},e.windowResized=function(){t.myRef.current&&e.resizeCanvas(t.myRef.current.offsetWidth,150)}},t.myRef=r.a.createRef(),t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.myP5=new N.a(this.sketch,this.myRef.current)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.myRef,className:"canvas-img-container"})}}]),a}(r.a.Component)),k=(t(97),function(e){return r.a.createElement("div",{className:"canvas-card"},r.a.createElement(w,{canvas:e.canvas}),r.a.createElement("h4",null,e.canvas.title),e.delete?r.a.createElement("button",{onClick:e.delete},"Delete"):r.a.createElement("p",null,"By: ",e.user))}),x=t(21),L=(t(98),function(e){return r.a.createElement("div",{className:"canvas-list"},r.a.createElement("ul",null,function(){if(e.canvases&&e.canvases.length>0)return e.canvases.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(x.b,{key:e.id,to:"/canvases/".concat(e.id)},r.a.createElement(k,{canvas:e,user:e.user?e.user.name:""})))}))}()))}),R=(t(100),t(101),function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),c=t[0],l=t[1];return r.a.createElement("form",{className:"form",onChange:function(e){e.persist();var a=e.target,t=a.name,n=a.value;l(Object(m.a)({},c,Object(i.a)({},t,n)))},onSubmit:function(a){a.preventDefault(),e.handleSubmit(c)}},e.inputs.map((function(e){return r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:e.name},e.name),r.a.createElement("input",{placeholder:"",type:"text",id:e.name,name:e.name}))})),function(){if(e.hasOwnProperty("password"))return r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}))}(),r.a.createElement("button",{type:"submit",className:"btn-secondary"},e.submitText))}),A=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(f.a)(this,Object(h.a)(a).call(this,e))).handleSubmit=function(e){t.props.user_id&&O.newCanvas(Object(m.a)({},t.state.newCanvas,{title:e.title})).then((function(e){return e.json()})).then((function(e){t.props.handleNewCanvas(e),t.setState((function(a){return{canvases:[].concat(Object(u.a)(a.canvases),[e])}}))})).catch(console.log)},t.handleOnChange=function(e){t.setState({newCanvas:Object(m.a)({},t.state.newCanvas,Object(i.a)({},e.target.id,e.target.value))})},t.showForm=function(){t.setState({newCanvas:Object(m.a)({},t.state.newCanvas,{seen:!t.state.newCanvas.seen})})},t.state={loading:!1,canvases:[],newCanvas:{seen:!1,user_id:t.props.user_id}},t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){O.fetchCanvases().then((function(e){return e.json()})).then((function(a){e.setState({canvases:a.reverse(),loading:!1})}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"canvases-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Active Canvases"),r.a.createElement("button",{className:"btn-primary",onClick:this.showForm},"New Canvas")),r.a.createElement("div",{id:"form",className:this.state.newCanvas.seen?"":"seen"},r.a.createElement("span",{className:"error"},this.props.user_id?"":"Must Log in before creating a canvas"),r.a.createElement(R,{inputs:[{name:"title"}],submitText:"Create",handleSubmit:this.handleSubmit})),this.state.loading&&r.a.createElement("div",{className:"loader"},r.a.createElement(b.a,null)),this.state.canvases.length>0&&r.a.createElement(L,{canvases:this.state.canvases}))}}]),a}(r.a.Component),P=Object(o.b)((function(e){return{user_id:e.user_id}}))(A),T=(t(102),function(e){return r.a.createElement("main",{className:"canvases-index"},r.a.createElement(P,{handleNewCanvas:function(a){e.history.push("/canvases/".concat(a.id))}}))}),D=(t(103),t(60)),I=t.n(D);function B(){return(B=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function H(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var M=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:#002a3e;stroke-width:2.07px;}.cls-1,.cls-2{stroke:#fff;stroke-miterlimit:10;}.cls-2{fill:#fff;stroke-width:0.8px;}")),F=r.a.createElement("g",{id:"Play"},r.a.createElement("circle",{className:"cls-1",cx:34.57,cy:34.57,r:33.53}),r.a.createElement("polygon",{className:"cls-2",points:"25.94 21.01 25.94 48.12 49.41 34.57 25.94 21.01"})),q=function(e){var a=e.svgRef,t=e.title,n=H(e,["svgRef","title"]);return r.a.createElement("svg",B({viewBox:"0 0 69.13 69.13",ref:a},n),t?r.a.createElement("title",null,t):null,M,F)},V=r.a.forwardRef((function(e,a){return r.a.createElement(q,B({svgRef:a},e))}));t.p;function U(){return(U=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function W(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var G=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:#002a3e;}.cls-1,.cls-2{stroke:#fff;stroke-miterlimit:10;stroke-width:2.07px;}.cls-2{fill:#fff;}")),J=r.a.createElement("circle",{className:"cls-1",cx:34.57,cy:34.57,r:33.53}),z=r.a.createElement("rect",{className:"cls-2",x:26.65,y:20.84,width:2.89,height:27.44}),X=r.a.createElement("rect",{className:"cls-2",x:40.44,y:20.84,width:2.89,height:27.44}),Z=function(e){var a=e.svgRef,t=e.title,n=W(e,["svgRef","title"]);return r.a.createElement("svg",U({id:"Pause",viewBox:"0 0 69.13 69.13",ref:a},n),t?r.a.createElement("title",null,t):null,G,J,z,X)},Q=r.a.forwardRef((function(e,a){return r.a.createElement(Z,U({svgRef:a},e))})),Y=(t.p,t(104),t(105),t(106)),K=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(f.a)(this,Object(h.a)(a).call(this,e))).toggleConnection=function(){t.setState({connected:!t.state.connected})},t.sketch=function(e){var a,n,r;e.preload=function(){t.song=e.loadSound(I.a)},e.setup=function(){e.createCanvas(t.myRef.current.offsetWidth,t.myRef.current.offsetHeight),(r=e.createGraphics(t.myRef.current.offsetWidth,t.myRef.current.offsetHeight)).clear(),t.canvasChannel=t.cable.subscriptions.create({channel:"PicturesChannel",id:t.props.paramsId},{connected:function(){console.log("connected!"),t.toggleConnection()},disconnected:function(){return t.toggleConnection()},received:function(a){if(a.hasOwnProperty("type"))t.props.dispatch(a);else if(a.hasOwnProperty("draw")){var n=a.draw,r=n.xOne,c=n.yOne,l=n.xTwo,s=n.yTwo;e.newDrawing(r,c,l,s)}}}),n=new N.a.Amplitude,a=new N.a.FFT,e.angleMode(e.DEGREES)},e.clearDrawing=function(){r.clear()},e.newDrawing=function(e,a,n,c){if(r){var l=t.props.myBrush,s=l.red,o=l.green,i=l.blue,u=l.weight;r.strokeWeight(u),r.stroke("rgb(".concat(s,",").concat(o,",").concat(i,")")),r.line(e,a,n,c)}},e.windowResized=function(){t.myRef.current&&e.resizeCanvas(t.myRef.current.offsetWidth,t.myRef.current.offsetHeight)},e.mouseDragged=function(){r&&t.canvasChannel.send({canvas_id:t.props.paramsId,draw:{xOne:e.pmouseX,yOne:e.pmouseY,xTwo:e.mouseX,yTwo:e.mouseY}})},e.loadSong=function(a){t.uploadedAudio=e.loadSound(a,e.uploadedAudioPlay)},e.uploadedAudioPlay=function(e){t.uploading=!1,t.song.isPlaying()&&t.song.pause(),t.song=e,t.song.play(),t.setState({playing:!0})},e.toggleAudio=function(){t.song.isPlaying()?t.song&&(t.song.pause(),t.setState({playing:!1})):(t.song.play(),t.setState({playing:!0}))},e.draw=function(){var c=t.props.canvas,l=c.background,s=c.mid_mapping_1,o=c.mid_mapping_2,i=c.treble_mapping_1,u=c.treble_mapping_2,m=c.bass_mapping_1,p=c.bass_mapping_2;e.background("rgb(".concat(l,")")),e.image(r,0,0),e.translate(e.width/2,e.height/2),e.level=n.getLevel(),a.analyze();var d=a.getEnergy("bass"),f=a.getEnergy("treble"),h=a.getEnergy("mid"),v=e.map(h,0,255,s,o),b=e.map(f,0,255,i,u),g=e.map(d,0,255,m,p);C.readFrequencyShapes(t.props.shapes,"treble",b,e),C.readFrequencyShapes(t.props.shapes,"mid",v,e),C.readFrequencyShapes(t.props.shapes,"bass",g,e)}},t.renderControls=function(){return t.myP5?r.a.createElement("div",{className:"controls"},r.a.createElement("h3",null,t.props.loadedSong.name||"Folds.mp3"),r.a.createElement("button",{className:"play-btn",onClick:t.myP5.toggleAudio},r.a.createElement(V,{className:t.state.playing?"seen":""}),r.a.createElement(Q,{className:t.state.playing?"":"seen"})),r.a.createElement("button",{className:"clear-btn btn-secondary",onClick:t.myP5.clearDrawing},"Clear Drawing")):""},t.myRef=r.a.createRef(),t.state={connected:!1,playing:!1},t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.cable=Y.createConsumer("wss://intense-harbor-90528.herokuapp.com/cable"),this.myP5=new N.a(this.sketch,this.myRef.current)}},{key:"componentDidUpdate",value:function(e){e.loadedSong!==this.props.loadedSong&&this.myP5.loadSong(this.props.loadedSong.url)}},{key:"componentWillUnmount",value:function(){this.cable.disconnect(),this.song&&this.song.isPlaying()&&this.song.pause(),URL.revokeObjectURL(this.props.loadedSong),this.props.dispatch({type:"REMOVE_CANVAS"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"canvas",className:"canvas",ref:this.myRef}),this.renderControls())}}]),a}(r.a.Component),$=Object(o.b)((function(e){return{user_id:e.user_id,canvas:e.canvas,selected:e.selected,loadedSong:e.loadedSong,shapes:e.canvasShapes,myBrush:e.myBrush}}))(K),ee=(t(107),t(167)),ae=t(7),te=Object(ae.a)({root:{color:"red"},thumb:{color:"red"}})(ee.a),ne=Object(ae.a)({root:{color:"green"},thumb:{color:"green"}})(ee.a),re=Object(ae.a)({root:{color:"blue"},thumb:{color:"blue"}})(ee.a),ce=function(e){var a=e.red,t=e.green,n=e.blue,c=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{value:a,min:0,max:255,lable:"Red",valueLabelDisplay:"auto",onChange:function(e,a){return c("red",a)}}),r.a.createElement(ne,{value:t,min:0,max:255,valueLabelDisplay:"auto",label:"Green",onChange:function(e,a){return c("green",a)}}),r.a.createElement(re,{value:n,min:0,max:255,valueLabelDisplay:"auto",label:"Blue",onChange:function(e,a){return c("blue",a)}}))},le=Object(o.b)()((function(e){var a=Object(n.useState)({red:e.myBrush.red,green:e.myBrush.green,blue:e.myBrush.blue,weight:e.myBrush.weight}),t=Object(s.a)(a,2),c=t[0],l=t[1],o=function(e,a){l(Object(m.a)({},c,Object(i.a)({},e,a)))};return r.a.createElement("div",{className:"paint-controls"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.dispatch({type:"BRUSH_EDIT",brush:c})}},r.a.createElement("button",{className:"save-btn",type:"submit"},"Save Changes"),r.a.createElement("h4",null,"Stroke Weight"),r.a.createElement(ee.a,{name:"strokeWeight",label:"strokeWeight",min:0,max:10,value:c.weight,valueLabelDisplay:"auto",onChange:function(e,a){return o("weight",a)}}),r.a.createElement("h4",null,"Stroke Color"),r.a.createElement(ce,{red:c.red,blue:c.blue,green:c.green,handleChange:o})))})),se=(t(108),t(162)),oe=t(168),ie=t(165),ue=t(166),me=t(163),pe=t(164);function de(){return(de=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function fe(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var he=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:#002a3e;}")),ve=r.a.createElement("polygon",{className:"cls-1",points:"75 43.3 0 0 0 86.6 75 43.3"}),be=function(e){var a=e.svgRef,t=e.title,n=fe(e,["svgRef","title"]);return r.a.createElement("svg",de({id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 75 86.6",ref:a},n),t?r.a.createElement("title",null,t):null,he,ve)},ge=r.a.forwardRef((function(e,a){return r.a.createElement(be,de({svgRef:a},e))})),Ee=(t.p,t(62)),ye=t.n(Ee),Oe=Object(ae.a)({root:{color:"red"},thumb:{color:"red"}})(ee.a),je=Object(ae.a)({root:{color:"green"},thumb:{color:"green"}})(ee.a),Se=Object(ae.a)({root:{color:"blue"},thumb:{color:"blue"}})(ee.a),_e=Object(o.b)()((function(e){Object(n.useEffect)((function(){e.shape.id!==c.id&&l(Object(m.a)({},e.shape,{fill:Object(u.a)(e.shape.fill.split(",").map((function(e){return parseInt(e)}))),stroke:Object(u.a)(e.shape.stroke.split(",").map((function(e){return parseInt(e)})))}))}));var a=Object(n.useState)(Object(m.a)({},e.shape,{fill:Object(u.a)(e.shape.fill.split(",").map((function(e){return parseInt(e)}))),stroke:Object(u.a)(e.shape.stroke.split(",").map((function(e){return parseInt(e)})))})),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),p=Object(s.a)(o,2),d=p[0],f=p[1],h=function(e,a){l(Object(m.a)({},c,Object(i.a)({},e,a)))},v=function(e,a,t){l(Object(m.a)({},c,Object(i.a)({},a,[].concat(Object(u.a)(c[a].slice(0,e)),[t],Object(u.a)(c[a].slice(e+1))))))};return r.a.createElement("div",{className:"shape",key:c.id},r.a.createElement("button",{className:"dropdown-btn",onClick:function(){f(!d)}},r.a.createElement(ge,{className:d?"rotate":""})," Shape: ",r.a.createElement("span",null,c.shape)),r.a.createElement("div",{className:d?"dropdown":"dropdown seen"},r.a.createElement("div",{className:"tool-header"},r.a.createElement("button",{className:"save-btn",onClick:function(){S.editP5(e.shape.id,{p5_shape:Object(m.a)({},c,{stroke:c.stroke.join(","),fill:c.fill.join(",")})}).then((function(e){return e.json()})).then((function(a){e.dispatch({type:"HTTP_EDIT_SHAPE",animation:a})}))}},"Save Changes"),r.a.createElement("button",{className:"delete-btn",onClick:function(){S.deleteP5(e.shape.id).then((function(e){return e.json()})).then((function(a){e.dispatch(a)}))}},r.a.createElement(ye.a,null))),r.a.createElement("div",{className:"tool"},r.a.createElement("ul",null,r.a.createElement("li",{style:{display:"flex","justify-content":"space-between"}},r.a.createElement(se.a,null,r.a.createElement(oe.a,{id:"shape-select"},"Shape"),r.a.createElement(ie.a,{labelId:"shape-select",id:"shape-select",name:"shape",defaultValue:"",value:c.shape,onChange:function(e,a){return h("shape",e.target.value)}},r.a.createElement(ue.a,{value:"rect"},"Rectangle"),r.a.createElement(ue.a,{value:"ellipse"},"Ellipse"),r.a.createElement(ue.a,{value:"triangle"},"Triangle"),r.a.createElement(ue.a,{value:"line"},"Line"))),r.a.createElement(se.a,null,r.a.createElement(oe.a,{id:"frequency-select"},"Frequency"),r.a.createElement(ie.a,{labelId:"frequency-select",id:"frequency",name:"frequency",defaultValue:"",value:c.frequency,onChange:function(e,a){return h("frequency",e.target.value)}},r.a.createElement(ue.a,{value:"treble"},"Treble"),r.a.createElement(ue.a,{value:"mid"},"Mid"),r.a.createElement(ue.a,{value:"bass"},"Bass")))),r.a.createElement("li",null,r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Fill Color"),r.a.createElement(Oe,{value:c.fill[0],min:0,max:255,valueLabelDisplay:"auto",onChange:function(e,a){return v(0,"fill",a)}}),r.a.createElement(je,{value:c.fill[1],min:0,max:255,valueLabelDisplay:"auto",onChange:function(e,a){return v(1,"fill",a)}}),r.a.createElement(Se,{value:c.fill[2],min:0,max:255,valueLabelDisplay:"auto",onChange:function(e,a){return v(2,"fill",a)}})),r.a.createElement("li",{className:"toolbox"},r.a.createElement("div",null,r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Width"),r.a.createElement(ee.a,{name:"width",label:"Width",min:0,max:50,value:c.width,valueLabelDisplay:"auto",onChange:function(e,a){return h("width",a)}}),r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Height"),r.a.createElement(ee.a,{name:"height",label:"height",min:0,max:50,value:c.height,valueLabelDisplay:"auto",onChange:function(e,a){return h("height",a)}}),r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Amount"),r.a.createElement(ee.a,{name:"amount",label:"Amount",min:0,max:20,value:c.amount,valueLabelDisplay:"auto",onChange:function(e,a){return h("amount",a)}}),r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Orbit"),r.a.createElement(ee.a,{name:"orbit",label:"Orbit",min:-100,value:c.orbit,valueLabelDisplay:"auto",onChange:function(e,a){return h("orbit",a)}}),r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Spin"),r.a.createElement(ee.a,{name:"spin",label:"Spin",min:-100,value:c.spin,valueLabelDisplay:"auto",onChange:function(e,a){return h("spin",a)}}))),r.a.createElement("li",null,r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Stroke Color"),r.a.createElement(Oe,{name:"stroke",valueLabelDisplay:"auto",value:c.stroke[0],min:0,max:255,"aria-label":"Stroke",onChange:function(e,a){return v(0,"stroke",a)}}),r.a.createElement(je,{name:"stroke",label:"Stroke",valueLabelDisplay:"auto",value:c.stroke[1],min:0,max:255,onChange:function(e,a){return v(1,"stroke",a)}}),r.a.createElement(Se,{name:"stroke",label:"Stroke",valueLabelDisplay:"auto",value:c.stroke[2],min:0,max:255,onChange:function(e,a){return v(2,"stroke",a)}})),r.a.createElement("li",null,r.a.createElement(me.a,{id:"slider",gutterBottom:!0},"Stagger Radius"),r.a.createElement(ee.a,{name:"stagger_radius",label:"stagger_radius",min:-20,max:20,value:c.stagger_radius,valueLabelDisplay:"auto",onChange:function(e,a){return h("stagger_radius",a)}}),r.a.createElement(me.a,{id:"vertical-slider",gutterBottom:!0},"Stagger Place"),r.a.createElement(ee.a,{name:"stagger_place",label:"stagger_place",min:-20,max:20,value:c.stagger_place,valueLabelDisplay:"auto",onChange:function(e,a){return h("stagger_place",a)}}))))),r.a.createElement(pe.a,null))})),Ne=(t(110),Object(ae.a)({root:{color:"red"},thumb:{color:"red"}})(ee.a)),Ce=Object(ae.a)({root:{color:"green"},thumb:{color:"green"}})(ee.a),we=Object(ae.a)({root:{color:"blue"},thumb:{color:"blue"}})(ee.a),ke=Object(o.b)((function(e){return{canvas:e.canvas}}))((function(e){var a=Object(n.useState)(Object(u.a)(e.canvas.background.split(",").map((function(e){return parseInt(e)})))),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)([e.canvas.bass_mapping_1,e.canvas.bass_mapping_2]),i=Object(s.a)(o,2),m=i[0],p=i[1],d=Object(n.useState)([e.canvas.mid_mapping_1,e.canvas.mid_mapping_2]),f=Object(s.a)(d,2),h=f[0],v=f[1],b=Object(n.useState)([e.canvas.treble_mapping_1,e.canvas.treble_mapping_2]),g=Object(s.a)(b,2),E=g[0],y=g[1],j=function(e,a){l([].concat(Object(u.a)(c.slice(0,e)),[a],Object(u.a)(c.slice(e+1))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"canvas-settings"},r.a.createElement("button",{className:"save-btn",onClick:function(){O.editCanvas(e.canvas.id,{picture:{background:c.join(","),bass_mapping_1:m[0],bass_mapping_2:m[1],mid_mapping_1:h[0],mid_mapping_2:h[1],treble_mapping_1:E[0],treble_mapping_2:E[1]}}).then((function(e){return e.json()})).then((function(e){}))}},"Save Changes"),r.a.createElement("h3",null,"Background Color"),r.a.createElement(Ne,{value:c[0],min:0,max:255,lable:"Red",valueLabelDisplay:"auto",onChange:function(e,a){return j(0,a)}}),r.a.createElement(Ce,{value:c[1],min:0,max:255,valueLabelDisplay:"auto",label:"Green",onChange:function(e,a){return j(1,a)}}),r.a.createElement(we,{value:c[2],min:0,max:255,valueLabelDisplay:"auto",label:"Blue",onChange:function(e,a){return j(2,a)}})),r.a.createElement("div",{className:"canvas-settings"},r.a.createElement("h3",null,"Frequencies "),r.a.createElement(me.a,{id:"vertical-slider",gutterBottom:!0},"Bass Mapping"),r.a.createElement(ee.a,{name:"bass",value:m,max:300,label:"bass",valueLabelDisplay:"auto",onChange:function(e,a){return p(a)}}),r.a.createElement(me.a,{id:"vertical-slider",gutterBottom:!0},"Mid Mapping"),r.a.createElement(ee.a,{name:"mid",value:h,label:"mid",max:300,valueLabelDisplay:"auto",onChange:function(e,a){return v(a)}}),r.a.createElement(me.a,{id:"vertical-slider",gutterBottom:!0},"Treble Mapping"),r.a.createElement(ee.a,{name:"treble",value:E,label:"treble",max:300,valueLabelDisplay:"auto",onChange:function(e,a){return y(a)}})),r.a.createElement(pe.a,null))})),xe=(t(111),t(83)),Le=t.n(xe),Re=t(80),Ae=t.n(Re),Pe=t(81),Te=t.n(Pe),De=t(82),Ie=t.n(De),Be=Object(o.b)((function(e){return{user_id:e.user_id,canvas_id:e.canvas.id,myShapes:e.myShapes,myBrush:e.myBrush,selected:e.selected,admin:e.admin}}))((function(e){var a=function(a){j.newAnimation(a,e.canvas_id).then((function(e){return e.json()})).then((function(t){"animate_mo"==a?e.dispatch({type:"HTTP_NEW_BURST",animation:t}):e.dispatch({type:"HTTP_NEW_SHAPE",animation:t})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tools-selector"},r.a.createElement("button",{onClick:function(){return e.dispatch({type:"SELECT_ANIMATION",animation:"paint"})}},r.a.createElement(Le.a,null)," Paint"),e.user_id?r.a.createElement("button",{onClick:function(){return e.dispatch({type:"SELECT_ANIMATION",animation:"shapes"})}},r.a.createElement(Te.a,null)," Shapes"):"",e.user_id==e.admin?r.a.createElement("button",{onClick:function(){return e.dispatch({type:"SELECT_ANIMATION",animation:"settings"})}},r.a.createElement(Ie.a,null)," Settings"):""),function(){switch(e.selected){case"shapes":return r.a.createElement("div",{className:"tools-container"},r.a.createElement("div",{className:"shape-container"},r.a.createElement("button",{className:"new-shape",onClick:function(){return a("p5_shape")}},r.a.createElement(Ae.a,null)," Create New Shape"),e.myShapes?e.myShapes.map((function(e){return r.a.createElement(_e,{shape:e})})):null));case"paint":return r.a.createElement("div",{className:"tools-container"},r.a.createElement(le,{myBrush:e.myBrush}));case"settings":return r.a.createElement("div",{className:"tools-container"},r.a.createElement(ke,null));default:return""}}())})),He=t(68),Me=t.n(He);Me.a.initializeApp({apiKey:"AIzaSyBjEbxXggiBfnzQWTQu09soV9lbRJSA_TA",authDomain:"virtual-canvas.firebaseapp.com",databaseURL:"https://virtual-canvas.firebaseio.com",projectId:"virtual-canvas",storageBucket:"virtual-canvas.appspot.com",messagingSenderId:"331574050775",appId:"1:331574050775:web:199288fb0d1e763ed81592",measurementId:"G-KHGVVPE55P"});var Fe=Me.a,qe=(t(122),Object(o.b)((function(e){return{userId:e.user_id,admin:e.admin,canvasId:e.canvas.id}}))((function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useRef)();Object(n.useEffect)((function(){Fe.database().ref("canvas-".concat(e.canvasId)).on("value",i,p)}),[e.canvasId]);var i=function(e){var a=e.val(),t=a?Object.keys(a):[];l(Object(u.a)(t.map((function(e){return Object(m.a)({},a[e],{key:e})}))))},p=function(e){console.log(e)},d=function(a){var t=a.key,n=a.songName;return function(){Fe.database().ref("canvas-".concat(e.canvasId)).child(t).remove(),Fe.storage().ref("music/canvas-".concat(e.canvasId,"/").concat(n)).delete()}};return r.a.createElement("div",{className:"song-container"},r.a.createElement("div",{className:"left"},r.a.createElement("input",{className:"seen",type:"file",ref:o,onChange:function(a){a.persist();var t=a.target.files,n=t[t.length-1];Fe.storage().ref("/music/canvas-".concat(e.canvasId,"/").concat(n.name)).put(n).then((function(){Fe.storage().ref("/music/canvas-".concat(e.canvasId)).child(n.name).getDownloadURL().then((function(a){Fe.database().ref("canvas-".concat(e.canvasId)).push({songName:n.name,url:a})}))}))}}),r.a.createElement("button",{className:"upload-btn btn-primary",onClick:function(){o.current.click()}},"Upload Your Favorite Song")),r.a.createElement("div",{className:"right"},r.a.createElement("ul",null,r.a.createElement("li",{key:"folds"},r.a.createElement("button",{className:"load-btn",onClick:function(){return e.dispatch({type:"LOAD_SONG",url:I.a,name:"Folds.mp3"})}},r.a.createElement(V,null)," ",r.a.createElement("span",null,"Folds.mp3"))),c.map((function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:a.key},r.a.createElement("button",{className:"load-btn",onClick:(t=a.url,n=a.songName,function(){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(t){var r=a.response,c=URL.createObjectURL(r);e.dispatch({type:"LOAD_SONG",url:c,name:n})},a.open("GET",t),a.send()})},r.a.createElement(V,null)," ",r.a.createElement("span",null,a.songName)),e.admin==e.userId?r.a.createElement("button",{className:"delete-song",onClick:d(a)},r.a.createElement(ye.a,null)):""));var t,n})))))}))),Ve=Object(o.b)((function(e){return{canvas:e.canvas,admin:e.admin}}))((function(e){return r.a.createElement("div",{className:"canvas-container"},r.a.createElement("div",{className:"tools curved"},r.a.createElement(Be,null)),r.a.createElement("div",{className:"canvas"},r.a.createElement($,{paramsId:e.paramsId})),r.a.createElement("div",{className:"songs curved"},r.a.createElement(qe,null)))})),Ue=(t(123),function(e){function a(){return Object(p.a)(this,a),Object(f.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.fetchCanvas(this.props.match.params.id).then((function(e){return e.json()})).then((function(a){e.props.dispatch({type:"LOAD_CANVAS",canvas:a})}))}},{key:"render",value:function(){return r.a.createElement("main",{className:"canvas-show"},r.a.createElement(Ve,{paramsId:this.props.match.params.id}))}}]),a}(r.a.Component)),We=Object(o.b)((function(e){return{user_id:e.user_id,canvas:e.canvas,admin:e.admin}}))(Ue),Ge=t(40);function Je(){return(Je=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function ze(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Xe=r.a.createElement("defs",null,r.a.createElement("style",null,"\n      .line {\n        fill: none;\n        stroke: #ff2079;\n        stroke-width: 50px;\n      }\n    ")),Ze=r.a.createElement("g",{id:"logo"},r.a.createElement("line",{id:"Line_7","data-name":"Line 7",className:"line",x1:536.11,y1:18.23,x2:17.11,y2:505.23}),r.a.createElement("line",{id:"Line_6","data-name":"Line 6",className:"line",x1:560.11,y1:135.23,x2:102.11,y2:549.23}),r.a.createElement("line",{id:"Line_8","data-name":"Line 8",className:"line",x1:560.11,y1:262.23,x2:217.11,y2:580.23})),Qe=function(e){var a=e.svgRef,t=e.title,n=ze(e,["svgRef","title"]);return r.a.createElement("svg",Je({width:553.213,height:523.461,viewBox:"0 0 553.213 523.461",ref:a},n),t?r.a.createElement("title",null,t):null,Xe,Ze)},Ye=r.a.forwardRef((function(e,a){return r.a.createElement(Qe,Je({svgRef:a},e))})),Ke=(t.p,t(124),function(){return r.a.createElement("div",null,r.a.createElement("main",{className:"landing"},r.a.createElement("div",{className:"banner-text"},r.a.createElement("h1",null,"Build Visualizers Together"),r.a.createElement("p",null,"A space for friends to jump onto online canvases, share music, draw, and animate shapes"),r.a.createElement(x.c,{exact:!0,to:"/canvases"},r.a.createElement("button",{className:"btn-primary"},"Get Started")))),r.a.createElement("div",{className:"line-container"},r.a.createElement(Ye,null)))}),$e=(t(125),Object(o.b)()((function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],p=function(e){1==c?y.userCreate(e).then((function(e){return e.json()})).then(d):y.userLogin(e).then((function(e){return e.json()})).then(d)},d=function(a){a.error?m(a.error):(localStorage.setItem("id",a.id),e.dispatch({type:"LOGIN",user_id:a.id}),e.history.goBack())},f=function(){l(!c)};return r.a.createElement("main",{className:"login-container"},r.a.createElement("div",{id:"signup",className:"".concat(c?"":"seen"," form-container")},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("p",null,u),r.a.createElement(R,{inputs:[{name:"name"},{name:"email"}],password:"true",submitText:"Create Account",handleSubmit:p}),r.a.createElement("button",{className:"toggle",onClick:f},"Already Have an Account?")),r.a.createElement("div",{id:"login",className:"".concat(c?"seen":""," form-container")},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,u),r.a.createElement(R,{inputs:[{name:"email"}],password:"true",submitText:"Sign In",handleSubmit:p}),r.a.createElement("button",{className:"toggle",onClick:f},"Don't Have an Account?")))}))),ea=(t(126),function(e){return r.a.createElement("div",{className:"canvas-table"},r.a.createElement("h1",null,"Created Canvases"),r.a.createElement("ul",null,e.canvases?e.canvases.map((function(a){return r.a.createElement("li",null,r.a.createElement(k,{canvas:a,delete:function(){return t=a.id,Fe.database().ref("canvas-".concat(t)).remove(),Fe.storage().ref("music/canvas-".concat(t)).listAll().then((function(e){e.items.forEach((function(e){Fe.storage().ref(e.location.path).delete()}))})),void O.deleteCanvas(t).then((function(e){return e.json()})).then((function(a){e.handleRemoveCanvas(t)}));var t}}))})):""))}),aa=(t(127),function(e){var a=e.user;return r.a.createElement("div",{className:"account-overview"},r.a.createElement("div",null,r.a.createElement("h1",null,"Account Overview"),r.a.createElement("h3",null,"Profile"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null,"Name")),r.a.createElement("th",null,r.a.createElement("p",null,a.name))),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",null,"Email")),r.a.createElement("th",null,r.a.createElement("p",null,a.email))))))}),ta=(t(128),function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(f.a)(this,Object(h.a)(a).call(this,e))).handleRemoveCanvas=function(e){O.deleteCanvas(e).then((function(a){t.setState({user:Object(m.a)({},t.state.user,{pictures:t.state.user.pictures.filter((function(a){return a.id!==e}))})})})).catch(console.log)},t.handleSelect=function(e){return function(){t.setState({selected:e})}},t.state={user:{},selected:"account"},t}return Object(v.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.getUser().then((function(e){return e.json()})).then((function(a){e.setState({user:a})}))}},{key:"render",value:function(){var e=this.state.user,a=(e.name,e.email,e.pictures);return r.a.createElement("main",{className:"user-show"},r.a.createElement("div",{className:"subnav"},r.a.createElement("button",{onClick:this.handleSelect("account")},"Account Overview"),r.a.createElement("button",{onClick:this.handleSelect("canvases")},"Created Canvases")),r.a.createElement("div",{className:"content"},"account"==this.state.selected?r.a.createElement(aa,{user:this.state.user}):r.a.createElement(ea,{handleRemoveCanvas:this.handleRemoveCanvas,title:"Created Canvases",canvases:a,deletePath:"".concat("https://intense-harbor-90528.herokuapp.com","/pictures/")})))}}]),a}(r.a.Component));function na(){return(na=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function ra(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var ca=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1,.cls-3,.cls-4{fill:none;}.cls-2{fill:#fff;}.cls-3{stroke:#ff2079;}.cls-3,.cls-4{stroke-miterlimit:10;stroke-width:2px;}.cls-4{stroke:#01bdc6;}")),la=r.a.createElement("g",{id:"logo"},r.a.createElement("polygon",{className:"cls-1",points:"331.43 89.29 328.1 81.65 322.26 94.42 322.28 94.42 327.12 84.05 322.28 94.42 333.56 94.42 331.43 89.29"}),r.a.createElement("polygon",{className:"cls-1",points:"212.75 94.42 224.16 94.42 218.59 81.65 212.75 94.42"}),r.a.createElement("path",{className:"cls-2",d:"M185.46,101.37a19.28,19.28,0,0,0-4.74,12.79,18.62,18.62,0,0,0,5.67,13.67,18.82,18.82,0,0,0,13.74,5.62,20.52,20.52,0,0,0,10.22-2.75v-6.83a29.46,29.46,0,0,1-2.64,2,15.87,15.87,0,0,1-2.42,1.32,12.16,12.16,0,0,1-5.09,1,13.21,13.21,0,0,1-9.78-4.06,13.7,13.7,0,0,1-4-10,14,14,0,0,1,4-10.12,13,13,0,0,1,9.76-4.16q5.25,0,10.17,4.12V97.23a19.22,19.22,0,0,0-9.78-2.75A18.89,18.89,0,0,0,185.46,101.37Z",transform:"translate(-13.99 -23.9)"}),r.a.createElement("polygon",{className:"cls-2",points:"268.7 97.41 241.31 68.75 241.31 108.87 246.98 108.87 246.98 82.57 274.37 111.15 274.37 71.31 268.7 71.31 268.7 97.41"}),r.a.createElement("polygon",{className:"cls-2",points:"306.18 71.31 295.65 97.34 285.26 71.31 279.06 71.31 295.53 111.69 312.39 71.31 306.18 71.31"}),r.a.createElement("polygon",{className:"cls-2",points:"309.61 108.87 315.54 108.87 322.28 94.42 322.26 94.42 328.1 81.65 331.43 89.29 329.61 84.88 331.43 89.29 333.67 94.42 333.56 94.42 335.76 99.74 335.98 99.74 339.92 108.87 346.12 108.87 328.2 68.95 309.61 108.87"}),r.a.createElement("path",{className:"cls-2",d:"M384.9,115a16,16,0,0,0-6.69-4.51l-3.75-1.53q-4.08-1.68-4.08-4.43a4.14,4.14,0,0,1,1.55-3.31,5.83,5.83,0,0,1,3.92-1.34,5.73,5.73,0,0,1,3.14.78,8.06,8.06,0,0,1,2.45,2.92l4.6-2.72q-3.65-6.33-10.14-6.33a11.69,11.69,0,0,0-8,2.87,9.05,9.05,0,0,0-3.24,7.08c0,4.19,2.57,7.36,7.71,9.54l3.63,1.51a16.05,16.05,0,0,1,2.43,1.27,7.72,7.72,0,0,1,1.66,1.44,5,5,0,0,1,.95,1.68,6,6,0,0,1,.31,2,6.16,6.16,0,0,1-1.75,4.5,6.48,6.48,0,0,1-9.52-.65,9.92,9.92,0,0,1-1.36-4.58l-5.74,1.27a13.36,13.36,0,0,0,3.92,8.15,11.52,11.52,0,0,0,8.07,2.89,11.86,11.86,0,0,0,8.64-3.4,11.5,11.5,0,0,0,3.45-8.57A10.17,10.17,0,0,0,384.9,115Z",transform:"translate(-13.99 -23.9)"}),r.a.createElement("polygon",{className:"cls-2",points:"199.76 109.58 205.68 109.58 212.43 95.13 212.41 95.13 218.25 82.36 221.58 90 219.76 85.59 221.58 90 223.82 95.13 223.7 95.13 225.91 100.46 226.13 100.46 230.07 109.58 236.27 109.58 218.34 69.66 199.76 109.58"}),r.a.createElement("polygon",{className:"cls-1",points:"316.55 42.94 327.95 42.94 322.38 30.17 316.55 42.94"}),r.a.createElement("path",{className:"cls-1",d:"M248.92,54.83q0-5.78-7.83-5.77h-2V61h1.8Q248.93,61,248.92,54.83Z",transform:"translate(-13.99 -23.9)"}),r.a.createElement("polygon",{className:"cls-2",points:"183.32 45.86 172.94 19.83 166.73 19.83 183.2 60.21 200.06 19.83 193.85 19.83 183.32 45.86"}),r.a.createElement("rect",{className:"cls-2",x:204.73,y:19.83,width:5.67,height:37.56}),r.a.createElement("path",{className:"cls-2",d:"M252.16,61.61a10.66,10.66,0,0,0,2.29-6.85,10.3,10.3,0,0,0-3.65-8.23q-3.31-2.79-10.75-2.79h-6.64V81.29h5.66V65.92h1l10.73,15.37h6.93l-11.62-16A10.23,10.23,0,0,0,252.16,61.61ZM239.07,61V49.06h2q7.83,0,7.83,5.77,0,6.15-8,6.15Z",transform:"translate(-13.99 -23.9)"}),r.a.createElement("polygon",{className:"cls-2",points:"245.03 25.16 253.67 25.16 253.67 57.39 259.33 57.39 259.33 25.16 267.94 25.16 267.94 19.83 245.03 19.83 245.03 25.16"}),r.a.createElement("path",{className:"cls-2",d:"M309.13,66.36q0,4.9-1.58,7.08a8.47,8.47,0,0,1-13.31,0q-1.58-2.25-1.58-7.08V43.74H287V67.91A13.62,13.62,0,0,0,300.88,82a13.68,13.68,0,0,0,10.22-4.28,13.54,13.54,0,0,0,3.69-9.78V43.74h-5.66Z",transform:"translate(-13.99 -23.9)"}),r.a.createElement("polygon",{className:"cls-2",points:"350.77 19.83 345.1 19.83 345.1 57.39 361.81 57.39 361.81 52.06 350.77 52.06 350.77 19.83"}),r.a.createElement("polygon",{className:"cls-2",points:"303.71 57.64 309.63 57.64 316.37 43.19 316.36 43.19 322.19 30.42 325.53 38.06 323.7 33.65 325.53 38.06 327.76 43.19 327.65 43.19 329.85 48.52 330.08 48.52 334.02 57.64 340.22 57.64 322.29 17.72 303.71 57.64"}),r.a.createElement("polygon",{className:"cls-3",points:"39.61 46.09 1.73 111.69 77.48 111.69 39.61 46.09"}),r.a.createElement("polygon",{className:"cls-4",points:"63.34 23.72 25.46 89.32 101.21 89.32 63.34 23.72"}),r.a.createElement("polygon",{className:"cls-3",points:"86.86 2 48.98 67.6 124.73 67.6 86.86 2"})),sa=function(e){var a=e.svgRef,t=e.title,n=ra(e,["svgRef","title"]);return r.a.createElement("svg",na({viewBox:"0 0 373.03 112.69",ref:a},n),t?r.a.createElement("title",null,t):null,ca,la)},oa=r.a.forwardRef((function(e,a){return r.a.createElement(sa,na({svgRef:a},e))})),ia=(t.p,t(129),Object(o.b)((function(e){return{user_id:e.user_id}}))((function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],l=t[1],o=function(){l(!c)},i=function(){localStorage.clear(),e.dispatch({type:"LOGOUT"})};return r.a.createElement("header",null,r.a.createElement(oa,null),r.a.createElement("nav",null,r.a.createElement("svg",{onClick:o,className:"menu-btn",id:"menu-btn",viewBox:"0 0 100 80",width:"40",height:"40"},r.a.createElement("rect",{width:"100",height:"20",fill:"white"}),r.a.createElement("rect",{y:"30",width:"100",height:"20",fill:"white"}),r.a.createElement("rect",{y:"60",width:"100",height:"20",fill:"white"})),r.a.createElement("div",{className:c?"nav-links":"nav-links closed"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.c,{onClick:o,exact:!0,to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(x.c,{onClick:o,exact:!0,to:"/canvases"},"Canvases")),e.user_id?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(x.c,{onClick:o,exact:!0,to:"/user"},"Profile")),r.a.createElement("li",null,r.a.createElement(x.c,{onClick:o,exact:!0,to:"/"},r.a.createElement("button",{onClick:i},"Log out")))):r.a.createElement("li",null,r.a.createElement(x.c,{onClick:o,exact:!0,to:"/login"},"Log In"))))))}))),ua=Object(o.b)((function(e){return{user_id:e.user_id}}))((function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],l=t[1];return r.a.createElement(x.a,null,r.a.createElement(ia,{toggleModal:function(){return l(!c)}}),r.a.createElement(Ge.b,{exact:!0,path:"/",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,null))}}),r.a.createElement(Ge.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement($e,e)}}),r.a.createElement(Ge.b,{exact:!0,path:"/user"},e.user_id?r.a.createElement(ta,null):r.a.createElement(Ge.a,{to:"/"})),r.a.createElement(Ge.b,{exact:!0,path:"/canvases",render:function(e){return r.a.createElement(T,e)}}),r.a.createElement(Ge.b,{exact:!0,path:"/canvases/:id",render:function(e){return r.a.createElement(We,e)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ma=t(58),pa={user_id:localStorage.id,canvas:{},canvasShapes:[],myShapes:[],myBrush:{red:0,green:0,blue:0,weight:1},selected:"paint",loadedSong:"",admin:""};var da=Object(ma.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(m.a)({},e,{user_id:a.user_id,myShapes:e.canvasShapes.filter((function(e){return e.user_id==localStorage.id}))});case"LOGOUT":return Object(m.a)({},e,{user_id:!1,myShapes:[]});case"LOAD_CANVAS":return Object(m.a)({},e,{canvas:a.canvas,canvasShapes:a.canvas.p5_shapes,myShapes:a.canvas.p5_shapes.filter((function(e){return e.user_id==localStorage.id})),admin:a.canvas.user.id});case"PATCH_CANVAS":return Object(m.a)({},e,{canvas:a.canvas.picture});case"LOAD_SONG":return URL.revokeObjectURL(e.loadedSong),Object(m.a)({},e,{loadedSong:{name:a.name,url:a.url}});case"HTTP_NEW_SHAPE":return Object(m.a)({},e,{myShapes:[].concat(Object(u.a)(e.myShapes),[a.animation])});case"HTTP_EDIT_SHAPE":var t=e.myShapes.map((function(e){return e.id===a.animation.id?a.animation:e}));return Object(m.a)({},e,{myShapes:Object(u.a)(t)});case"HTTP_DELETE_SHAPE":return Object(m.a)({},e,{myShapes:Object(u.a)(e.myShapes.filter((function(e){return e.id!==a.animation_id})))});case"CHANNEL_POST_SHAPE":return Object(m.a)({},e,{canvasShapes:[].concat(Object(u.a)(e.canvasShapes),[a.animation.p5_shape])});case"CHANNEL_PATCH_SHAPE":var n=e.canvasShapes.map((function(e){return e.id===a.animation.p5_shape.id?a.animation.p5_shape:e}));return Object(m.a)({},e,{canvasShapes:Object(u.a)(n)});case"CHANNEL_DELETE_SHAPE":return Object(m.a)({},e,{canvasShapes:Object(u.a)(e.canvasShapes.filter((function(e){return e.id!==a.animation_id})))});case"SELECT_ANIMATION":return Object(m.a)({},e,{selected:a.animation});case"BRUSH_EDIT":return Object(m.a)({},e,{myBrush:a.brush});case"REMOVE_CANVAS":return Object(m.a)({},e,{canvas:{},myAnimations:[],canvasAnimations:[],selected:"",loadedSong:"",admin:""});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(o.a,{store:da},r.a.createElement(ua,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,a,t){e.exports=t.p+"static/media/Folds.bc4e5cac.mp3"},86:function(e,a,t){e.exports=t(130)},91:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.eb1cc607.chunk.js.map